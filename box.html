<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ ç›²ç›’æŠ½å¥–</title>
  <style>
    body{
      margin:0; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","PingFang SC","Microsoft YaHei",Arial;
      background: radial-gradient(circle at top, #ffffff, #ffe8ef, #ffd2e0);
      padding:20px;
    }
    .wrap{ width:min(520px,100%); }
    .title{
      text-align:center;
      font-size:20px; font-weight:800;
      margin-bottom:10px;
    }
    .warn{
      text-align:center;
      font-size:13px;
      background: rgba(255,137,150,.18);
      border: 1px solid rgba(255,137,150,.35);
      padding:10px 12px;
      border-radius:12px;
      margin: 0 auto 16px auto;
      line-height:1.5;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    .box{
      position:relative;
      border-radius:16px;
      padding:18px 12px;
      text-align:center;
      background: rgba(255,255,255,.92);
      border: 2px solid rgba(255,137,150,.30);
      box-shadow: 0 12px 28px rgba(0,0,0,.10);
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease;
      min-height:92px;
      display:flex;
      flex-direction:column;
      justify-content:center;
    }
    .box:active{ transform: scale(.98); }
    .emoji{ font-size:28px; margin-bottom:6px; }
    .label{ font-weight:800; font-size:14px; }
    .sub{ font-size:12px; opacity:.7; margin-top:4px; }

    /* picked state */
    .disabled{
      opacity:.35;
      cursor:not-allowed;
      filter: grayscale(1);
    }

    /* overlay */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.35);
      display:none;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .modal{
      width:min(420px,100%);
      background:#fff;
      border-radius:18px;
      padding:18px;
      text-align:center;
      box-shadow: 0 18px 50px rgba(0,0,0,.25);
    }
    .modal h2{ margin:6px 0 8px 0; font-size:18px; }
    .modal p{ margin:0; font-size:13px; opacity:.75; line-height:1.5; }
    .spinner{
      margin:14px auto 0 auto;
      width:42px; height:42px;
      border-radius:999px;
      border:4px solid rgba(255,137,150,.25);
      border-top-color:#FF8996;
      animation: spin 1s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    @media (max-width:420px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">ğŸ é€‰ç›²ç›’å’¯ï½ </div>
    <div class="warn">âš ï¸ æˆ‘çš„å¸…å«å«å®è´ å¿«æ¥çœ‹çœ‹ä½ è¿æ°”å¥½ä¸å¥½å§ åªæœ‰ä¸€æ¬¡æœºä¼šå“¦ æ²¡å¾—åæ‚”çš„å“¦ ğŸ˜†<br></div>

    <div id="grid" class="grid">
      <!-- Boxes injected by JS -->
    </div>
  </div>

  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="modal">
      <div style="font-size:26px">ğŸ€</div>
      <h2>æ­£åœ¨æ‰“å¼€ç›²ç›’â€¦</h2>
      <p>åˆ«æ€¥åˆ«æ€¥ï½é©¬ä¸Šæ­æ™“ä½ çš„æƒŠå–œ ğŸ’—</p>
      <div class="spinner"></div>
    </div>
  </div>

  <script>
    // ä½ çš„ 6 ä¸ª prize é¡µé¢ï¼ˆå·²å­˜åœ¨äºä»“åº“ï¼‰
    const prizeLinks = [
      "prize_1.html",
      "prize_2.html",
      "prize_3.html",
      "prize_4.html",
      "prize_5.html",
      "prize_6.html"
    ];

    // Fisherâ€“Yates shuffle
    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]] = [a[j],a[i]];
      }
      return a;
    }

    const boxes = shuffle([
      {emoji:"ğŸ", label:"ç¡®å®šè¦é€‰æˆ‘å—", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
      {emoji:"ğŸ", label:"è¿˜è¦å†æƒ³æƒ³å—", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
      {emoji:"ğŸ", label:"çœŸçš„ä¸å†æƒ³æƒ³å—", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
      {emoji:"ğŸ", label:"è¿˜è¦å†æƒ³ä¸‹å—", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
      {emoji:"ğŸ", label:"ç¡®å®šä¸å†æƒ³æƒ³ä¸‹å—", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
      {emoji:"ğŸ", label:"å†æƒ³æƒ³ä¸‹å§", sub:"æˆ‘ä¼šæ˜¯å¤§å¥–å—å‘¢"},
    ]);

    // å°† prizeLinks ä¹Ÿéšæœºæ‰“ä¹±ï¼Œç¡®ä¿ä½ ä¹Ÿä¸çŸ¥é“å“ªä¸ªç›²ç›’å¯¹åº”å“ªä¸ªå¥–é¡¹
    const shuffledPrizes = shuffle(prizeLinks);

    const grid = document.getElementById("grid");
    const overlay = document.getElementById("overlay");

    let picked = false;

    boxes.forEach((b, idx) => {
      const div = document.createElement("div");
      div.className = "box";
      div.innerHTML = `
        <div class="emoji">${b.emoji}</div>
        <div class="label">${b.label}</div>
        <div class="sub">${b.sub}</div>
      `;

      div.addEventListener("click", () => {
        if(picked) return;

        picked = true;

        // ç¦ç”¨å…¶ä»–ç›²ç›’ï¼ˆä½“éªŒä¸Šâ€œåªèƒ½ä¸€æ¬¡â€ï¼‰
        document.querySelectorAll(".box").forEach(el => {
          if(el !== div) el.classList.add("disabled");
        });

        // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
        overlay.style.display = "flex";

        // è·³è½¬åˆ°å¯¹åº” prize é¡µé¢
        const target = shuffledPrizes[idx];

        // å°å»¶è¿Ÿå¢åŠ ä»ªå¼æ„Ÿ
        setTimeout(() => {
          window.location.href = target;
        }, 900);
      });

      grid.appendChild(div);
    });
  </script>
</body>
</html>
